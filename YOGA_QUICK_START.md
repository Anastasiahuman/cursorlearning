# Быстрый старт - Йога-приложение

## Что уже готово

Создана полная структура проекта для йога-приложения с 40 уроками:

### Документация
- `YOGA_PROJECT.md` - Полная документация проекта
- Описание концепции, целевой аудитории, roadmap
- Метрики успеха и технический стек

### Структура контента
- **40 уроков** распределены по 5 категориям:
  - Здоровье спины (12 уроков)
  - Гибкость (10 уроков)
  - Тазобедренные суставы (8 уроков)
  - Медитация (5 уроков)
  - Релаксация (5 уроков)

### Программы
Готовы 5 программ:
1. **Здоровая спина за 21 день** (бесплатная)
2. **Путь к шпагату** (8 недель, Premium)
3. **Раскрытие тазобедренных суставов** (6 недель, Premium)
4. **Антистресс** (2 недели, бесплатная)
5. **Полная гибкость** (12 недель, Premium)

### Схемы данных
- `yoga-content/schemas/lesson.schema.json` - Схема урока
- `yoga-content/schemas/program.schema.json` - Схема программы
- Шаблоны для создания контента

### Скрипты
- `import_lessons.py` - Импорт и структурирование уроков
- `validate_content.py` - Валидация контента

### Конфигурация
- `lessons_config.json` - Полная конфигурация 40 уроков
- Категории с описаниями
- Программы с расписаниями

---

## Следующие шаги

### Шаг 1: Подготовка видео (Приоритет 1)

**Что нужно сделать:**
1. Собрать все 40 видео-файлов уроков
2. Переименовать их по схеме: `lesson_001.mp4`, `lesson_002.mp4`, ..., `lesson_040.mp4`
3. Положить в папку `source_videos/`

**Требования к видео:**
- Формат: MP4 (H.264)
- Разрешение: минимум 1280x720 (рекомендуется 1920x1080)
- Битрейт: 2-5 Mbps
- Звук: AAC, стерео

### Шаг 2: Импорт контента (Приоритет 1)

**Установка зависимостей:**
```bash
pip install jsonschema
```

**Запуск импорта:**
```bash
cd yoga-content

# Импорт всех 40 уроков
python scripts/import_lessons.py \
  --source ../source_videos \
  --output ./content/lessons \
  --schema ./schemas/lesson.schema.json \
  --config ./config/lessons_config.json
```

**Что произойдёт:**
- Создадутся 40 папок с уроками
- Видео будут скопированы
- Создадутся файлы metadata.json и description.md для каждого урока
- Сгенерируется индексный файл lessons_index.json

### Шаг 3: Генерация превью (Приоритет 2)

**Установка ffmpeg:**
```bash
# macOS
brew install ffmpeg

# Ubuntu/Debian
sudo apt install ffmpeg
```

**Создание скрипта для генерации превью:**
```bash
# Скрипт автоматически создаст превью из 5-й секунды каждого видео
python scripts/generate_thumbnails.py --input ./content/lessons
```

### Шаг 4: Валидация контента (Приоритет 2)

**Проверка всего контента:**
```bash
python scripts/validate_content.py \
  --content ./content \
  --schemas ./schemas
```

**Что проверяется:**
- Корректность метаданных по схемам
- Наличие всех файлов (видео, превью, описания)
- Ссылки между уроками и программами
- Длительность и другие параметры

### Шаг 5: Дополнение метаданных (Приоритет 2)

**Что нужно добавить вручную:**

Для каждого урока в `metadata.json`:
1. **Имя инструктора** - замените "Инструктор" на реальное имя
2. **Список асан** (poses) - добавьте конкретные асаны с длительностью
3. **Проверьте описания** - убедитесь, что они точные

**Пример редактирования:**
```json
{
  "id": "001",
  "title": "Базовая разминка для спины",
  "instructor": "Анна Иванова",
  "poses": [
    {
      "name": "Поза кошки-коровы",
      "duration": 60,
      "sanskrit_name": "Marjaryasana-Bitilasana"
    },
    {
      "name": "Поза ребенка",
      "duration": 120,
      "sanskrit_name": "Balasana"
    }
  ]
}
```

### Шаг 6: Создание превью для программ (Приоритет 3)

**Создайте изображения для программ:**
- Размер: 1200x630 px
- Формат: JPG
- Названия: `healthy_back_21days.jpg`, `splits_journey.jpg`, и т.д.
- Положите в `content/programs/[название_программы]/thumbnail.jpg`

---

## Структура папок после импорта

```
yoga-content/
├── schemas/                    # JSON схемы
│   ├── lesson.schema.json
│   └── program.schema.json
│
├── templates/                  # Шаблоны
│   ├── lesson_template.json
│   └── program_template.json
│
├── config/                     # Конфигурация
│   └── lessons_config.json
│
├── content/                    # Контент (создастся после импорта)
│   ├── lessons/
│   │   ├── 001_bazovaya_razminka_dlya_spiny/
│   │   │   ├── metadata.json
│   │   │   ├── video.mp4
│   │   │   ├── thumbnail.jpg
│   │   │   └── description.md
│   │   ├── 002_myagkoe_vytyazhenie_pozvonochnika/
│   │   └── ... (ещё 38 уроков)
│   │
│   ├── programs/
│   │   ├── healthy_back_21days.json
│   │   ├── splits_journey.json
│   │   ├── hip_opening.json
│   │   ├── antistress.json
│   │   └── full_flexibility.json
│   │
│   └── categories/
│       ├── back_health.json
│       ├── flexibility.json
│       ├── hip_joints.json
│       ├── meditation.json
│       └── relaxation.json
│
└── scripts/                    # Скрипты
    ├── import_lessons.py
    ├── validate_content.py
    └── generate_thumbnails.py
```

---

## Чек-лист подготовки контента

### Обязательные задачи

- [ ] Собрать 40 видео-файлов
- [ ] Переименовать видео по схеме lesson_XXX.mp4
- [ ] Запустить импорт уроков
- [ ] Сгенерировать превью для уроков
- [ ] Добавить имена инструкторов
- [ ] Добавить списки асан для каждого урока
- [ ] Проверить описания уроков
- [ ] Создать превью для 5 программ
- [ ] Запустить валидацию контента
- [ ] Исправить все ошибки валидации

### Дополнительные задачи

- [ ] Добавить фоновую музыку (если нужно)
- [ ] Создать иконки для категорий
- [ ] Подготовить промо-материалы
- [ ] Написать тексты для маркетинга
- [ ] Создать landing page

---

## Работа с командой

### Что передать команде

**Дизайнеру:**
- `YOGA_PROJECT.md` - для понимания концепции
- Список из 5 категорий - для создания иконок
- Требования к превью программ (1200x630 px)

**Разработчикам:**
- `YOGA_PROJECT.md` - полная документация
- `schemas/` - JSON схемы для API
- `content/` - готовый контент после импорта
- Roadmap из документации

**Маркетологу:**
- Описания 5 программ
- Целевая аудитория (4 сегмента)
- USP и преимущества приложения

---

## Добавление нового урока

**Если нужно добавить 41-й урок:**

1. Создайте метаданные по шаблону `templates/lesson_template.json`
2. Добавьте урок в `config/lessons_config.json`
3. Запустите импорт для нового урока:
```bash
python scripts/import_lessons.py --source ../source_videos --output ./content/lessons --config ./config/new_lesson.json
```

---

## Добавление новой программы

**Создание программы:**

1. Используйте шаблон `templates/program_template.json`
2. Заполните все поля
3. Убедитесь, что все ID уроков существуют
4. Сохраните в `content/programs/new_program.json`
5. Запустите валидацию

---

## Частые вопросы

**Q: Что делать, если видео в другом формате?**
A: Конвертируйте в MP4 с помощью ffmpeg:
```bash
ffmpeg -i input.mov -c:v libx264 -c:a aac -b:v 3M output.mp4
```

**Q: Как изменить метаданные урока после импорта?**
A: Отредактируйте файл `content/lessons/XXX_название/metadata.json` и запустите валидацию.

**Q: Можно ли изменить структуру категорий?**
A: Да, но нужно обновить:
- Схему `lesson.schema.json` (enum category)
- Файлы категорий в `content/categories/`
- Конфигурацию уроков

**Q: Как добавить новый язык?**
A: Добавьте поле `language` в метаданные урока и создайте дубликаты с другим языком.

---

## Контакты

**Вопросы по проекту:**
- Product Owner: [Имя]
- Tech Lead: [Имя]

**Документация обновлена:** 28 февраля 2026
